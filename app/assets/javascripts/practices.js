// Generated by CoffeeScript 1.10.0
(function() {
  $(document).on('turbolinks:load', function() {
    if ($("body").hasClass("practices")) {
      $('#practicecontent').on('click', '.did', function() {
        $.post('/practices/' + $(this).attr('practice_id') + '/did');
        return $('#did-notification').delay(100).animate({
          'z-index': 1
        }, 1).animate({
          opacity: 1
        }, 200).delay(700).animate({
          opacity: 0
        }, 200).animate({
          'z-index': 0
        }, 1);
      });
      $('#practicecontent').on('click', '.js-trigger-add-comment', function() {
        return $.ajax({
          type: 'GET',
          url: 'practices/' + $(this).attr('pid') + '/addcomment'
        }).done(function() {
          $('#add_comment').modal();
          return $('.range-group').each(function() {
            var i;
            i = 0;
            while (i < 5) {
              $(this).append('<a>');
              i++;
            }
          });
        });
      });
      $('#practicecontent').on('submit', '.edit_practice', function() {
        var template;
        template = $('#template_name', this).val();
        $.ajax({
          url: $(this).attr('action'),
          type: $(this).attr('method'),
          data: $(this).serialize(),
          success: function() {
            $('#add_comment').modal('hide');
            $('#edit_practice').modal('hide');
            return $.ajax({
              type: 'GET',
              url: 'practices/' + template,
              dataType: 'script'
            });
          }
        });
        return false;
      });
      $(document).on('click', '.js-trigger-edit-practice', function() {
        $.ajax({
          type: 'GET',
          url: 'practices/' + $(this).attr('practice_id') + '/edit_practice'
        }).done(function() {
          return $('#edit_practice').modal();
        });
        return false;
      });
      $('#practicecontent').on('click', '.js-trigger-pattern-detail', function() {
        return $.ajax({
          type: 'GET',
          url: 'practices/' + $(this).attr('language_id') + '/' + $(this).attr('pattern_no') + '/detail'
        }).done(function() {
          return $('#pattern_detail').modal();
        });
      });
      $('#practicecontent').on('click', '.js-trigger-practice-comment', function() {
        return $.ajax({
          type: 'GET',
          url: 'practices/' + $(this).attr('practice_id') + '/practice_comment'
        }).done(function() {
          return $('#practice-comment').modal();
        });
      });
      $('#active-list').click(function() {
        $("li").removeClass("active");
        return $(this).addClass("active");
      });
      $('#complete-list').click(function() {
        $("li").removeClass("active");
        return $(this).addClass("active");
      });
      return $('#archive-list').click(function() {
        $("li").removeClass("active");
        return $(this).addClass("active");
      });
    }
  });

}).call(this);
